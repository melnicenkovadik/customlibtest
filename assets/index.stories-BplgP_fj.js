import{j as g}from"./jsx-runtime-DR9Q75dM.js";import{r as e}from"./index-DRjF_FHU.js";import{c as K}from"./index-BxTXOyjN.js";import{c as Ne}from"./createLucideIcon-UCnLdqZo.js";import{A as Ge}from"./authors-Bh-Wpt1v.js";/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=Ne("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);var Fe=Object.defineProperty,Le=Object.defineProperties,He=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,we=(t,r,a)=>r in t?Fe(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,ze=(t,r)=>{for(var a in r||(r={}))Se.call(r,a)&&we(t,a,r[a]);if(Q)for(var a of Q(r))Pe.call(r,a)&&we(t,a,r[a]);return t},Ve=(t,r)=>Le(t,He(r)),$e=(t,r)=>{var a={};for(var i in t)Se.call(t,i)&&r.indexOf(i)<0&&(a[i]=t[i]);if(t!=null&&Q)for(var i of Q(t))r.indexOf(i)<0&&Pe.call(t,i)&&(a[i]=t[i]);return a};function Ze(t){let r=setTimeout(t,0),a=setTimeout(t,10),i=setTimeout(t,50);return[r,a,i]}function Je(t){let r=e.useRef();return e.useEffect(()=>{r.current=t}),r.current}var qe=18,Oe=40,Ue=`${Oe}px`,Ke=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Qe({containerRef:t,inputRef:r,pushPasswordManagerStrategy:a,isFocused:i}){let[d,s]=e.useState(!1),[A,S]=e.useState(!1),[_,B]=e.useState(!1),F=e.useMemo(()=>a==="none"?!1:(a==="increase-width"||a==="experimental-no-flickering")&&d&&A,[d,A,a]),R=e.useCallback(()=>{let v=t.current,E=r.current;if(!v||!E||_||a==="none")return;let b=v,P=b.getBoundingClientRect().left+b.offsetWidth,W=b.getBoundingClientRect().top+b.offsetHeight/2,u=P-qe,L=W;document.querySelectorAll(Ke).length===0&&document.elementFromPoint(u,L)===v||(s(!0),B(!0))},[t,r,_,a]);return e.useEffect(()=>{let v=t.current;if(!v||a==="none")return;function E(){let P=window.innerWidth-v.getBoundingClientRect().right;S(P>=Oe)}E();let b=setInterval(E,1e3);return()=>{clearInterval(b)}},[t,a]),e.useEffect(()=>{let v=i||document.activeElement===r.current;if(a==="none"||!v)return;let E=setTimeout(R,0),b=setTimeout(R,2e3),P=setTimeout(R,5e3),W=setTimeout(()=>{B(!0)},6e3);return()=>{clearTimeout(E),clearTimeout(b),clearTimeout(P),clearTimeout(W)}},[r,i,a,R]),{hasPWMBadge:d,willPushPWMBadge:F,PWM_BADGE_SPACE_WIDTH:Ue}}var Ee=e.createContext({}),Te=e.forwardRef((t,r)=>{var a=t,{value:i,onChange:d,maxLength:s,textAlign:A="left",pattern:S,placeholder:_,inputMode:B="numeric",onComplete:F,pushPasswordManagerStrategy:R="increase-width",pasteTransformer:v,containerClassName:E,noScriptCSSFallback:b=Xe,render:P,children:W}=a,u=$e(a,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),L,le,ie,se,ue;let[Ae,Ie]=e.useState(typeof u.defaultValue=="string"?u.defaultValue:""),c=i??Ae,I=Je(c),H=e.useCallback(n=>{d==null||d(n),Ie(n)},[d]),x=e.useMemo(()=>S?typeof S=="string"?new RegExp(S):S:null,[S]),p=e.useRef(null),X=e.useRef(null),Y=e.useRef({value:c,onChange:H,isIOS:typeof window<"u"&&((le=(L=window==null?void 0:window.CSS)==null?void 0:L.supports)==null?void 0:le.call(L,"-webkit-touch-callout","none"))}),J=e.useRef({prev:[(ie=p.current)==null?void 0:ie.selectionStart,(se=p.current)==null?void 0:se.selectionEnd,(ue=p.current)==null?void 0:ue.selectionDirection]});e.useImperativeHandle(r,()=>p.current,[]),e.useEffect(()=>{let n=p.current,o=X.current;if(!n||!o)return;Y.current.value!==n.value&&Y.current.onChange(n.value),J.current.prev=[n.selectionStart,n.selectionEnd,n.selectionDirection];function m(){if(document.activeElement!==n){V(null),$(null);return}let l=n.selectionStart,h=n.selectionEnd,q=n.selectionDirection,y=n.maxLength,j=n.value,O=J.current.prev,T=-1,C=-1,k;if(j.length!==0&&l!==null&&h!==null){let _e=l===h,Re=l===j.length&&j.length<y;if(_e&&!Re){let D=l;if(D===0)T=0,C=1,k="forward";else if(D===y)T=D-1,C=D,k="backward";else if(y>1&&j.length>1){let ne=0;if(O[0]!==null&&O[1]!==null){k=D<O[1]?"backward":"forward";let We=O[0]===O[1]&&O[0]<y;k==="backward"&&!We&&(ne=-1)}T=ne+D,C=ne+D+1}}T!==-1&&C!==-1&&T!==C&&p.current.setSelectionRange(T,C,k)}let ge=T!==-1?T:l,ve=C!==-1?C:h,De=k??q;V(ge),$(ve),J.current.prev=[ge,ve,De]}if(document.addEventListener("selectionchange",m,{capture:!0}),m(),document.activeElement===n&&ee(!0),!document.getElementById("input-otp-style")){let l=document.createElement("style");if(l.id="input-otp-style",document.head.appendChild(l),l.sheet){let h="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Z(l.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Z(l.sheet,`[data-input-otp]:autofill { ${h} }`),Z(l.sheet,`[data-input-otp]:-webkit-autofill { ${h} }`),Z(l.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Z(l.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let w=()=>{o&&o.style.setProperty("--root-height",`${n.clientHeight}px`)};w();let f=new ResizeObserver(w);return f.observe(n),()=>{document.removeEventListener("selectionchange",m,{capture:!0}),f.disconnect()}},[]);let[ce,pe]=e.useState(!1),[z,ee]=e.useState(!1),[M,V]=e.useState(null),[N,$]=e.useState(null);e.useEffect(()=>{Ze(()=>{var n,o,m,w;(n=p.current)==null||n.dispatchEvent(new Event("input"));let f=(o=p.current)==null?void 0:o.selectionStart,l=(m=p.current)==null?void 0:m.selectionEnd,h=(w=p.current)==null?void 0:w.selectionDirection;f!==null&&l!==null&&(V(f),$(l),J.current.prev=[f,l,h])})},[c,z]),e.useEffect(()=>{I!==void 0&&c!==I&&I.length<s&&c.length===s&&(F==null||F(c))},[s,F,I,c]);let G=Qe({containerRef:X,inputRef:p,pushPasswordManagerStrategy:R,isFocused:z}),de=e.useCallback(n=>{let o=n.currentTarget.value.slice(0,s);if(o.length>0&&x&&!x.test(o)){n.preventDefault();return}typeof I=="string"&&o.length<I.length&&document.dispatchEvent(new Event("selectionchange")),H(o)},[s,H,I,x]),me=e.useCallback(()=>{var n;if(p.current){let o=Math.min(p.current.value.length,s-1),m=p.current.value.length;(n=p.current)==null||n.setSelectionRange(o,m),V(o),$(m)}ee(!0)},[s]),fe=e.useCallback(n=>{var o,m;let w=p.current;if(!v&&(!Y.current.isIOS||!n.clipboardData||!w))return;let f=n.clipboardData.getData("text/plain"),l=v?v(f):f;console.log({_content:f,content:l}),n.preventDefault();let h=(o=p.current)==null?void 0:o.selectionStart,q=(m=p.current)==null?void 0:m.selectionEnd,y=(h!==q?c.slice(0,h)+l+c.slice(q):c.slice(0,h)+l+c.slice(h)).slice(0,s);if(y.length>0&&x&&!x.test(y))return;w.value=y,H(y);let j=Math.min(y.length,s-1),O=y.length;w.setSelectionRange(j,O),V(j),$(O)},[s,H,x,c]),Me=e.useMemo(()=>({position:"relative",cursor:u.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[u.disabled]),he=e.useMemo(()=>({position:"absolute",inset:0,width:G.willPushPWMBadge?`calc(100% + ${G.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:G.willPushPWMBadge?`inset(0 ${G.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:A,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[G.PWM_BADGE_SPACE_WIDTH,G.willPushPWMBadge,A]),je=e.useMemo(()=>e.createElement("input",Ve(ze({autoComplete:u.autoComplete||"one-time-code"},u),{"data-input-otp":!0,"data-input-otp-placeholder-shown":c.length===0||void 0,"data-input-otp-mss":M,"data-input-otp-mse":N,inputMode:B,pattern:x==null?void 0:x.source,"aria-placeholder":_,style:he,maxLength:s,value:c,ref:p,onPaste:n=>{var o;fe(n),(o=u.onPaste)==null||o.call(u,n)},onChange:de,onMouseOver:n=>{var o;pe(!0),(o=u.onMouseOver)==null||o.call(u,n)},onMouseLeave:n=>{var o;pe(!1),(o=u.onMouseLeave)==null||o.call(u,n)},onFocus:n=>{var o;me(),(o=u.onFocus)==null||o.call(u,n)},onBlur:n=>{var o;ee(!1),(o=u.onBlur)==null||o.call(u,n)}})),[de,me,fe,B,he,s,N,M,u,x==null?void 0:x.source,c]),te=e.useMemo(()=>({slots:Array.from({length:s}).map((n,o)=>{var m;let w=z&&M!==null&&N!==null&&(M===N&&o===M||o>=M&&o<N),f=c[o]!==void 0?c[o]:null,l=c[0]!==void 0?null:(m=_==null?void 0:_[o])!=null?m:null;return{char:f,placeholderChar:l,isActive:w,hasFakeCaret:w&&f===null}}),isFocused:z,isHovering:!u.disabled&&ce}),[z,ce,s,N,M,u.disabled,c]),ke=e.useMemo(()=>P?P(te):e.createElement(Ee.Provider,{value:te},W),[W,te,P]);return e.createElement(e.Fragment,null,b!==null&&e.createElement("noscript",null,e.createElement("style",null,b)),e.createElement("div",{ref:X,"data-input-otp-container":!0,style:Me,className:E},ke,e.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},je)))});Te.displayName="Input";function Z(t,r){try{t.insertRule(r)}catch{console.error("input-otp could not insert CSS rule:",r)}}var Xe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const oe=e.forwardRef(({className:t,containerClassName:r,...a},i)=>g.jsx(Te,{ref:i,containerClassName:K("flex items-center has-[:disabled]:opacity-50",r),className:K("disabled:cursor-not-allowed",t),...a})),re=e.forwardRef(({className:t,...r},a)=>g.jsx("div",{ref:a,className:K("flex items-center",t),...r})),ae=e.forwardRef(({index:t,className:r,...a},i)=>{const d=e.useContext(Ee),{char:s,hasFakeCaret:A,isActive:S}=d.slots[t];return g.jsxs("div",{ref:i,className:K("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",S&&"z-10 ring-1 ring-ring",r),...a,children:[s,A&&g.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:g.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})}),Ce=e.forwardRef(({...t},r)=>g.jsx("div",{ref:r,role:"separator",...t,children:g.jsx(Be,{size:32})}));oe.__docgenInfo={description:"",methods:[],displayName:"InputOTP"};re.__docgenInfo={description:"",methods:[],displayName:"InputOTPGroup"};ae.__docgenInfo={description:"",methods:[],displayName:"InputOTPSlot",props:{index:{required:!0,tsType:{name:"number"},description:""}}};Ce.__docgenInfo={description:"",methods:[],displayName:"InputOTPSeparator"};const at={id:"Molecules/Input OTP",title:"Verified/Molecules/Input OTP",component:oe,tags:["autodocs"],argTypes:{children:{control:!1}}},U={parameters:{author:Ge["vadym.melnicenko"],embedDesigns:["https://www.figma.com/embed?embed_host=share&url=https://www.figma.com/file/AczaSV5JD1751SAWcZshOp/Flamingo-Design-System-(Community)?node-id=53-412"],designs:["https://www.figma.com/file/AczaSV5JD1751SAWcZshOp/Flamingo-Design-System-(Community)?node-id=53-412"]},args:{maxLength:6,className:"w-full max-w-xs"},render:({maxLength:t,className:r})=>{const a=Array.from(Array(Math.ceil(t/2))).map((d,s)=>s),i=Array.from(Array(Math.ceil(t-a.length))).map((d,s)=>s+a.length);return g.jsxs(oe,{maxLength:t,className:r,children:[g.jsx(re,{children:a.map(d=>g.jsx(ae,{index:d},d))}),g.jsx(Ce,{}),g.jsx(re,{children:i.map(d=>g.jsx(ae,{index:d},d))})]})}};var be,ye,xe;U.parameters={...U.parameters,docs:{...(be=U.parameters)==null?void 0:be.docs,source:{originalSource:`{
  parameters: {
    author: AUTHORS['vadym.melnicenko'],
    embedDesigns: ['https://www.figma.com/embed?embed_host=share&url=https://www.figma.com/file/AczaSV5JD1751SAWcZshOp/Flamingo-Design-System-(Community)?node-id=53-412'],
    designs: ['https://www.figma.com/file/AczaSV5JD1751SAWcZshOp/Flamingo-Design-System-(Community)?node-id=53-412']
  },
  args: {
    maxLength: 6,
    className: 'w-full max-w-xs'
  } as never,
  render: ({
    maxLength,
    className
  }) => {
    //i.e. [0, 1, 2]
    const firstGroupOtp = Array.from(Array(Math.ceil(maxLength / 2))).map((_v, i) => i);

    //i.e. [3, 4, 5]
    const secondGroupOtp = Array.from(Array(Math.ceil(maxLength - firstGroupOtp.length))).map((_v, i) => i + firstGroupOtp.length);
    return <InputOTP maxLength={maxLength} className={className}>
        <InputOTPGroup>
          {firstGroupOtp.map(i => <InputOTPSlot key={i} index={i} />)}
        </InputOTPGroup>
        <InputOTPSeparator />
        <InputOTPGroup>
          {secondGroupOtp.map(i => <InputOTPSlot key={i} index={i} />)}
        </InputOTPGroup>
      </InputOTP>;
  }
}`,...(xe=(ye=U.parameters)==null?void 0:ye.docs)==null?void 0:xe.source}}};const ot=["Playground"];export{U as Playground,ot as __namedExportsOrder,at as default};
