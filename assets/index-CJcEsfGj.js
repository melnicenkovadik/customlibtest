import{j as R}from"./jsx-runtime-Cw0GR0a5.js";import{r as e}from"./index-CTjT7uj6.js";import{c as Q}from"./index-Bv1jJhtj.js";import{c as ke}from"./createLucideIcon-D1mZwjD8.js";/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=ke("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);var Ie=Object.defineProperty,Te=Object.defineProperties,Oe=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable,pe=(n,r,a)=>r in n?Ie(n,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[r]=a,Re=(n,r)=>{for(var a in r||(r={}))me.call(r,a)&&pe(n,a,r[a]);if(X)for(var a of X(r))fe.call(r,a)&&pe(n,a,r[a]);return n},_e=(n,r)=>Te(n,Oe(r)),De=(n,r)=>{var a={};for(var s in n)me.call(n,s)&&r.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&X)for(var s of X(n))r.indexOf(s)<0&&fe.call(n,s)&&(a[s]=n[s]);return a},We="^\\d+$";function Ae(n){let r=setTimeout(n,0),a=setTimeout(n,10),s=setTimeout(n,50);return[r,a,s]}function Be(n){let r=e.useRef();return e.useEffect(()=>{r.current=n}),r.current}var Ne=18,ve=40,Fe=`${ve}px`,He=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Le({containerRef:n,inputRef:r,pushPasswordManagerStrategy:a,isFocused:s}){let x=e.useRef({done:!1,refocused:!1}),[u,_]=e.useState(!1),[h,V]=e.useState(!1),[D,q]=e.useState(!1),Y=e.useMemo(()=>a==="none"?!1:(a==="increase-width"||a==="experimental-no-flickering")&&u&&h,[u,h,a]),C=e.useCallback(()=>{let f=n.current,p=r.current;if(!f||!p||D||a==="none")return;let l=f,w=l.getBoundingClientRect().left+l.offsetWidth,W=l.getBoundingClientRect().top+l.offsetHeight/2,U=w-Ne,J=W;if(!(document.querySelectorAll(He).length===0&&document.elementFromPoint(U,J)===f)&&(_(!0),q(!0),!x.current.refocused&&document.activeElement===p)){let F=[p.selectionStart,p.selectionEnd];p.blur(),p.focus(),p.setSelectionRange(F[0],F[1]),x.current.refocused=!0}},[n,r,D,a]);return e.useEffect(()=>{let f=n.current;if(!f||a==="none")return;function p(){let w=window.innerWidth-f.getBoundingClientRect().right;V(w>=ve)}p();let l=setInterval(p,1e3);return()=>{clearInterval(l)}},[n,a]),e.useEffect(()=>{let f=s||document.activeElement===r.current;if(a==="none"||!f)return;let p=setTimeout(C,0),l=setTimeout(C,2e3),w=setTimeout(C,5e3),W=setTimeout(()=>{q(!0)},6e3);return()=>{clearTimeout(p),clearTimeout(l),clearTimeout(w),clearTimeout(W)}},[r,s,a,C]),{hasPWMBadge:u,willPushPWMBadge:Y,PWM_BADGE_SPACE_WIDTH:Fe}}var ge=e.createContext({}),he=e.forwardRef((n,r)=>{var a=n,{value:s,onChange:x,maxLength:u,textAlign:_="left",pattern:h=We,inputMode:V="numeric",onComplete:D,pushPasswordManagerStrategy:q="increase-width",containerClassName:Y,noScriptCSSFallback:C=$e,render:f,children:p}=a,l=De(a,["value","onChange","maxLength","textAlign","pattern","inputMode","onComplete","pushPasswordManagerStrategy","containerClassName","noScriptCSSFallback","render","children"]),w,W,U,J,F;let[be,we]=e.useState(typeof l.defaultValue=="string"?l.defaultValue:""),d=s??be,M=Be(d),H=e.useCallback(t=>{x==null||x(t),we(t)},[x]),b=e.useMemo(()=>h?typeof h=="string"?new RegExp(h):h:null,[h]),c=e.useRef(null),Z=e.useRef(null),ee=e.useRef({value:d,onChange:H,isIOS:typeof window<"u"&&((W=(w=window==null?void 0:window.CSS)==null?void 0:w.supports)==null?void 0:W.call(w,"-webkit-touch-callout","none"))}),K=e.useRef({prev:[(U=c.current)==null?void 0:U.selectionStart,(J=c.current)==null?void 0:J.selectionEnd,(F=c.current)==null?void 0:F.selectionDirection]});e.useImperativeHandle(r,()=>c.current,[]),e.useEffect(()=>{let t=c.current,o=Z.current;if(!t||!o)return;ee.current.value!==t.value&&ee.current.onChange(t.value),K.current.prev=[t.selectionStart,t.selectionEnd,t.selectionDirection];function m(){if(document.activeElement!==t){$(null),G(null);return}let i=t.selectionStart,g=t.selectionEnd,y=t.selectionDirection,j=t.maxLength,I=t.value,N=K.current.prev,E=-1,P=-1,T;if(I.length!==0&&i!==null&&g!==null){let Pe=i===g,Ce=i===I.length&&I.length<j;if(Pe&&!Ce){let O=i;if(O===0)E=0,P=1,T="forward";else if(O===j)E=O-1,P=O,T="backward";else if(j>1&&I.length>1){let re=0;if(N[0]!==null&&N[1]!==null){T=O<N[1]?"backward":"forward";let Me=N[0]===N[1]&&N[0]<j;T==="backward"&&!Me&&(re=-1)}E=re+O,P=re+O+1}}E!==-1&&P!==-1&&E!==P&&c.current.setSelectionRange(E,P,T)}let ce=E!==-1?E:i,de=P!==-1?P:g,Ee=T??y;$(ce),G(de),K.current.prev=[ce,de,Ee]}if(document.addEventListener("selectionchange",m,{capture:!0}),m(),document.activeElement===t&&te(!0),!document.getElementById("input-otp-style")){let i=document.createElement("style");if(i.id="input-otp-style",document.head.appendChild(i),i.sheet){let g="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";z(i.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),z(i.sheet,`[data-input-otp]:autofill { ${g} }`),z(i.sheet,`[data-input-otp]:-webkit-autofill { ${g} }`),z(i.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),z(i.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let v=()=>{o&&o.style.setProperty("--root-height",`${t.clientHeight}px`)};v();let S=new ResizeObserver(v);return S.observe(t),()=>{document.removeEventListener("selectionchange",m,{capture:!0}),S.disconnect()}},[]);let[oe,ae]=e.useState(!1),[L,te]=e.useState(!1),[k,$]=e.useState(null),[A,G]=e.useState(null);e.useEffect(()=>{Ae(()=>{var t,o,m,v;(t=c.current)==null||t.dispatchEvent(new Event("input"));let S=(o=c.current)==null?void 0:o.selectionStart,i=(m=c.current)==null?void 0:m.selectionEnd,g=(v=c.current)==null?void 0:v.selectionDirection;S!==null&&i!==null&&($(S),G(i),K.current.prev=[S,i,g])})},[d,L]),e.useEffect(()=>{M!==void 0&&d!==M&&M.length<u&&d.length===u&&(D==null||D(d))},[u,D,M,d]);let B=Le({containerRef:Z,inputRef:c,pushPasswordManagerStrategy:q,isFocused:L}),le=e.useCallback(t=>{let o=t.currentTarget.value.slice(0,u);if(o.length>0&&b&&!b.test(o)){t.preventDefault();return}typeof M=="string"&&o.length<M.length&&document.dispatchEvent(new Event("selectionchange")),H(o)},[u,H,M,b]),ie=e.useCallback(()=>{var t;if(c.current){let o=Math.min(c.current.value.length,u-1),m=c.current.value.length;(t=c.current)==null||t.setSelectionRange(o,m),$(o),G(m)}te(!0)},[u]),se=e.useCallback(t=>{var o,m;let v=c.current;if(!ee.current.isIOS||!t.clipboardData||!v)return;let S=t.clipboardData.getData("text/plain");t.preventDefault();let i=(o=c.current)==null?void 0:o.selectionStart,g=(m=c.current)==null?void 0:m.selectionEnd,y=(i!==g?d.slice(0,i)+S+d.slice(g):d.slice(0,i)+S+d.slice(i)).slice(0,u);if(y.length>0&&b&&!b.test(y))return;v.value=y,H(y);let j=Math.min(y.length,u-1),I=y.length;v.setSelectionRange(j,I),$(j),G(I)},[u,H,b,d]),Se=e.useMemo(()=>({position:"relative",cursor:l.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[l.disabled]),ue=e.useMemo(()=>({position:"absolute",inset:0,width:B.willPushPWMBadge?`calc(100% + ${B.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:B.willPushPWMBadge?`inset(0 ${B.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:_,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[B.PWM_BADGE_SPACE_WIDTH,B.willPushPWMBadge,_]),xe=e.useMemo(()=>e.createElement("input",_e(Re({autoComplete:l.autoComplete||"one-time-code"},l),{"data-input-otp":!0,"data-input-otp-mss":k,"data-input-otp-mse":A,inputMode:V,pattern:b==null?void 0:b.source,style:ue,maxLength:u,value:d,ref:c,onPaste:t=>{var o;se(t),(o=l.onPaste)==null||o.call(l,t)},onChange:le,onMouseOver:t=>{var o;ae(!0),(o=l.onMouseOver)==null||o.call(l,t)},onMouseLeave:t=>{var o;ae(!1),(o=l.onMouseLeave)==null||o.call(l,t)},onFocus:t=>{var o;ie(),(o=l.onFocus)==null||o.call(l,t)},onBlur:t=>{var o;te(!1),(o=l.onBlur)==null||o.call(l,t)}})),[le,ie,se,V,ue,u,A,k,l,b==null?void 0:b.source,d]),ne=e.useMemo(()=>({slots:Array.from({length:u}).map((t,o)=>{let m=L&&k!==null&&A!==null&&(k===A&&o===k||o>=k&&o<A),v=d[o]!==void 0?d[o]:null;return{char:v,isActive:m,hasFakeCaret:m&&v===null}}),isFocused:L,isHovering:!l.disabled&&oe}),[L,oe,u,A,k,l.disabled,d]),ye=e.useMemo(()=>f?f(ne):e.createElement(ge.Provider,{value:ne},p),[p,ne,f]);return e.createElement(e.Fragment,null,C!==null&&e.createElement("noscript",null,e.createElement("style",null,C)),e.createElement("div",{ref:Z,"data-input-otp-container":!0,style:Se,className:Y},ye,e.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},xe)))});he.displayName="Input";function z(n,r){try{n.insertRule(r)}catch{console.error("input-otp could not insert CSS rule:",r)}}var $e=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Ge=e.forwardRef(({className:n,containerClassName:r,...a},s)=>R.jsx(he,{ref:s,containerClassName:Q("flex items-center has-[:disabled]:opacity-50",r),className:Q("disabled:cursor-not-allowed",n),...a})),ze=e.forwardRef(({className:n,...r},a)=>R.jsx("div",{ref:a,className:Q("flex items-center",n),...r})),Ve=e.forwardRef(({index:n,className:r,...a},s)=>{const x=e.useContext(ge),{char:u,hasFakeCaret:_,isActive:h}=x.slots[n];return R.jsxs("div",{ref:s,className:Q("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",h&&"z-10 ring-1 ring-ring",r),...a,children:[u,_&&R.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:R.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})}),qe=e.forwardRef(({...n},r)=>R.jsx("div",{ref:r,role:"separator",...n,children:R.jsx(je,{size:32})}));Ge.__docgenInfo={description:"",methods:[],displayName:"InputOTP"};ze.__docgenInfo={description:"",methods:[],displayName:"InputOTPGroup"};Ve.__docgenInfo={description:"",methods:[],displayName:"InputOTPSlot",props:{index:{required:!0,tsType:{name:"number"},description:""}}};qe.__docgenInfo={description:"",methods:[],displayName:"InputOTPSeparator"};export{Ge as I,ze as a,Ve as b,qe as c};
