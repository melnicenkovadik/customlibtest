import{j as d}from"./jsx-runtime-Cw0GR0a5.js";import{r as B,R as a}from"./index-CTjT7uj6.js";import{B as jt}from"./index-Cs-iujrC.js";import{B as Ye}from"./index-B1B20eKX.js";import"./index--95H8BaD.js";import{S as Pt}from"./index-BoDFZG65.js";import{T as ve}from"./index-CsppbEUr.js";import{c as ie}from"./index-Bv1jJhtj.js";import{O as _t,C as It,T as Ht,a as Bt,b as Lt,D as kt,R as Ut,P as zt}from"./index-DvdLHDu_.js";import{A as Ft}from"./authors-Bh-Wpt1v.js";import{B as Wt}from"./constants-BP086JmV.js";import{X as Vt}from"./x-C6zOW7R5.js";import"./index-Bb4qSo10.js";import"./index-muU7fdJh.js";import"./index-9_93ZtqA.js";import"./index-BbmHap-z.js";import"./index-Dt9fs78b.js";import"./index-Cc1vX98B.js";import"./index-BSevPOpd.js";import"./index-BiCwzpk8.js";import"./index-Cq_MIWH_.js";import"./index-Cha-KGcI.js";import"./tslib.es6-svi90ETI.js";import"./index-cgsyMFoz.js";import"./createLucideIcon-D1mZwjD8.js";const qt=e=>{B.useEffect(()=>{if(!(typeof window>"u")&&e){const n=document.createElement("style");return n.textContent=`
        * {
          transition: none !important;
          animation: none !important;
        }
      `,document.head.appendChild(n),()=>{document.head.removeChild(n)}}},[e])},Yt=e=>{const[n,t]=B.useState(!1);return B.useEffect(()=>{const r=window.matchMedia(e),i=()=>t(r.matches);return t(r.matches),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[e]),n};function Xt(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}const tt=a.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),se=()=>{const e=a.useContext(tt);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Xt(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Jt(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function Zt(){return je(/^Mac/)}function Gt(){return je(/^iPhone/)}function Xe(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Kt(){return je(/^iPad/)||Zt()&&navigator.maxTouchPoints>1}function nt(){return Gt()||Kt()}function je(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Qt=24,en=typeof window<"u"?B.useLayoutEffect:B.useEffect;function Je(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}const Ce=typeof document<"u"&&window.visualViewport;function Ze(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function rt(e){for(Ze(e)&&(e=e.parentElement);e&&!Ze(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const tn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ye=0,Oe;function nn(e={}){let{isDisabled:n}=e;en(()=>{if(!n)return ye++,ye===1&&nt()&&(Oe=rn()),()=>{ye--,ye===0&&(Oe==null||Oe())}},[n])}function rn(){let e,n=0,t=h=>{e=rt(h.target),!(e===document.documentElement&&e===document.body)&&(n=h.changedTouches[0].pageY)},r=h=>{if(!e||e===document.documentElement||e===document.body){h.preventDefault();return}let w=h.changedTouches[0].pageY,U=e.scrollTop,L=e.scrollHeight-e.clientHeight;L!==0&&((U<=0&&w>n||U>=L&&w<n)&&h.preventDefault(),n=w)},i=h=>{let w=h.target;$e(w)&&w!==document.activeElement&&(h.preventDefault(),w.style.transform="translateY(-2000px)",w.focus(),requestAnimationFrame(()=>{w.style.transform=""}))},o=h=>{let w=h.target;$e(w)&&(w.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{w.style.transform="",Ce&&(Ce.height<window.innerHeight?requestAnimationFrame(()=>{Ge(w)}):Ce.addEventListener("resize",()=>Ge(w),{once:!0}))}))},u=()=>{window.scrollTo(0,0)},p=window.pageXOffset,S=window.pageYOffset,R=Je(an(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let v=Je(me(document,"touchstart",t,{passive:!1,capture:!0}),me(document,"touchmove",r,{passive:!1,capture:!0}),me(document,"touchend",i,{passive:!1,capture:!0}),me(document,"focus",o,!0),me(window,"scroll",u));return()=>{R(),v(),window.scrollTo(p,S)}}function an(e,n,t){let r=e.style[n];return e.style[n]=t,()=>{e.style[n]=r}}function me(e,n,t,r){return e.addEventListener(n,t,r),()=>{e.removeEventListener(n,t,r)}}function Ge(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=rt(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let r=t.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const u=t.getBoundingClientRect().bottom+Qt;o>u&&(t.scrollTop+=i-r)}e=t.parentElement}}function $e(e){return e instanceof HTMLInputElement&&!tn.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function on(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function sn(...e){return n=>e.forEach(t=>on(t,n))}function at(...e){return B.useCallback(sn(...e),e)}const ot=new WeakMap;function N(e,n,t=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(n).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}r[i]=e.style[i],e.style[i]=o}),!t&&ot.set(e,r)}function ln(e,n){if(!e||!(e instanceof HTMLElement))return;let t=ot.get(e);t&&(e.style[n]=t[n])}const A=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function xe(e,n){if(!e)return null;const t=window.getComputedStyle(e),r=t.transform||t.webkitTransform||t.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[A(n)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[A(n)?5:4]):null)}function un(e){return 8*(Math.log(e+1)-2)}function Ne(e,n){if(!e)return()=>{};const t=e.style.cssText;return Object.assign(e.style,n),()=>{e.style.cssText=t}}function cn(...e){return(...n)=>{for(const t of e)typeof t=="function"&&t(...n)}}const C={DURATION:.5,EASE:[.32,.72,0,1]},it=.4,dn=.25,fn=100,st=8,ne=16,Me=26,Ae="vaul-dragging";function lt(e){const n=a.useRef(e);return a.useEffect(()=>{n.current=e}),a.useMemo(()=>(...t)=>n.current==null?void 0:n.current.call(n,...t),[])}function mn({defaultProp:e,onChange:n}){const t=a.useState(e),[r]=t,i=a.useRef(r),o=lt(n);return a.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}function ut({prop:e,defaultProp:n,onChange:t=()=>{}}){const[r,i]=mn({defaultProp:n,onChange:t}),o=e!==void 0,u=o?e:r,p=lt(t),S=a.useCallback(R=>{if(o){const h=typeof R=="function"?R(e):R;h!==e&&p(h)}else i(R)},[o,e,i,p]);return[u,S]}function pn({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:r,overlayRef:i,fadeFromIndex:o,onSnapPointChange:u,direction:p="bottom",container:S,snapToSequentialPoint:R}){const[v,h]=ut({prop:e,defaultProp:t==null?void 0:t[0],onChange:n}),[w,U]=a.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);a.useEffect(()=>{function c(){U({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const L=a.useMemo(()=>v===(t==null?void 0:t[t.length-1])||null,[t,v]),E=a.useMemo(()=>{var c;return(c=t==null?void 0:t.findIndex(b=>b===v))!=null?c:null},[t,v]),z=t&&t.length>0&&(o||o===0)&&!Number.isNaN(o)&&t[o]===v||!t,g=a.useMemo(()=>{const c=S?{width:S.getBoundingClientRect().width,height:S.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var b;return(b=t==null?void 0:t.map(x=>{const _=typeof x=="string";let j=0;if(_&&(j=parseInt(x,10)),A(p)){const l=_?j:w?x*c.height:0;return w?p==="bottom"?c.height-l:-c.height+l:l}const W=_?j:w?x*c.width:0;return w?p==="right"?c.width-W:-c.width+W:W}))!=null?b:[]},[t,w,S]),M=a.useMemo(()=>E!==null?g==null?void 0:g[E]:null,[g,E]),$=a.useCallback(c=>{var b;const x=(b=g==null?void 0:g.findIndex(_=>_===c))!=null?b:null;u(x),N(r.current,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:A(p)?`translate3d(0, ${c}px, 0)`:`translate3d(${c}px, 0, 0)`}),g&&x!==g.length-1&&o!==void 0&&x!==o&&x<o?N(i.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"0"}):N(i.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"1"}),h(t==null?void 0:t[Math.max(x,0)])},[r.current,t,g,o,i,h]);a.useEffect(()=>{if(v||e){var c;const b=(c=t==null?void 0:t.findIndex(x=>x===e||x===v))!=null?c:-1;g&&b!==-1&&typeof g[b]=="number"&&$(g[b])}},[v,e,t,g,$]);function m({draggedDistance:c,closeDrawer:b,velocity:x,dismissible:_}){if(o===void 0)return;const j=p==="bottom"||p==="right"?(M??0)-c:(M??0)+c,W=E===o-1,l=E===0,F=c>0;if(W&&N(i.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`}),!R&&x>2&&!F){_?b():$(g[0]);return}if(!R&&x>2&&F&&g&&t){$(g[t.length-1]);return}const I=g==null?void 0:g.reduce((P,J)=>typeof P!="number"||typeof J!="number"?P:Math.abs(J-j)<Math.abs(P-j)?J:P),V=A(p)?window.innerHeight:window.innerWidth;if(x>it&&Math.abs(c)<V*.4){const P=F?1:-1;if(P>0&&L&&t){$(g[t.length-1]);return}if(l&&P<0&&_&&b(),E===null)return;$(g[E+P]);return}$(I)}function Y({draggedDistance:c}){if(M===null)return;const b=p==="bottom"||p==="right"?M-c:M+c;(p==="bottom"||p==="right")&&b<g[g.length-1]||(p==="top"||p==="left")&&b>g[g.length-1]||N(r.current,{transform:A(p)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`})}function ee(c,b){if(!t||typeof E!="number"||!g||o===void 0)return null;const x=E===o-1;if(E>=o&&b)return 0;if(x&&!b)return 1;if(!z&&!x)return null;const j=x?E+1:E-1,W=x?g[j]-g[j-1]:g[j+1]-g[j],l=c/Math.abs(W);return x?1-l:l}return{isLastSnapPoint:L,activeSnapPoint:v,shouldFade:z,getPercentageDragged:ee,setActiveSnapPoint:h,activeSnapPointIndex:E,onRelease:m,onDrag:Y,snapPointsOffset:g}}const hn=()=>()=>{};function wn(){const{direction:e,isOpen:n,shouldScaleBackground:t,setBackgroundColorOnScale:r,noBodyStyles:i}=se(),o=a.useRef(null),u=B.useMemo(()=>document.body.style.backgroundColor,[]);function p(){return(window.innerWidth-Me)/window.innerWidth}a.useEffect(()=>{if(n&&t){o.current&&clearTimeout(o.current);const S=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!S)return;cn(r&&!i?Ne(document.body,{background:"black"}):hn,Ne(S,{transformOrigin:A(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${C.DURATION}s`,transitionTimingFunction:`cubic-bezier(${C.EASE.join(",")})`}));const R=Ne(S,{borderRadius:`${st}px`,overflow:"hidden",...A(e)?{transform:`scale(${p()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${p()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{R(),o.current=window.setTimeout(()=>{u?document.body.style.background=u:document.body.style.removeProperty("background")},C.DURATION*1e3)}}},[n,t,u])}let pe=null;function gn({isOpen:e,modal:n,nested:t,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:o}){const[u,p]=a.useState(()=>typeof window<"u"?window.location.href:""),S=a.useRef(0),R=a.useCallback(()=>{if(Xe()&&pe===null&&e&&!o){pe={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:h,innerHeight:w}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-S.current}px`,left:`${-h}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const U=w-window.innerHeight;U&&S.current>=w&&(document.body.style.top=`${-(S.current+U)}px`)}),300)}},[e]),v=a.useCallback(()=>{if(Xe()&&pe!==null&&!o){const h=-parseInt(document.body.style.top,10),w=-parseInt(document.body.style.left,10);Object.assign(document.body.style,pe),window.requestAnimationFrame(()=>{if(i&&u!==window.location.href){p(window.location.href);return}window.scrollTo(w,h)}),pe=null}},[u]);return a.useEffect(()=>{function h(){S.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),a.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||v()}},[n,v]),a.useEffect(()=>{t||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&R(),n||window.setTimeout(()=>{v()},500)):v())},[e,r,u,n,t,R,v]),{restorePositionSetting:v}}function ct({open:e,onOpenChange:n,children:t,onDrag:r,onRelease:i,snapPoints:o,shouldScaleBackground:u=!1,setBackgroundColorOnScale:p=!0,closeThreshold:S=dn,scrollLockTimeout:R=fn,dismissible:v=!0,handleOnly:h=!1,fadeFromIndex:w=o&&o.length-1,activeSnapPoint:U,setActiveSnapPoint:L,fixed:E,modal:z=!0,onClose:g,nested:M,noBodyStyles:$=!1,direction:m="bottom",defaultOpen:Y=!1,disablePreventScroll:ee=!0,snapToSequentialPoint:c=!1,preventScrollRestoration:b=!1,repositionInputs:x=!0,onAnimationEnd:_,container:j,autoFocus:W=!1}){var l,F;const[I=!1,V]=ut({defaultProp:Y,prop:e,onChange:s=>{n==null||n(s),!s&&!M&&Rt(),setTimeout(()=>{_==null||_(s)},C.DURATION*1e3),s&&!z&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),s||(document.body.style.pointerEvents="auto")}}),[P,J]=a.useState(!1),[Z,le]=a.useState(!1),[yt,He]=a.useState(!1),re=a.useRef(null),he=a.useRef(null),De=a.useRef(null),Se=a.useRef(null),ue=a.useRef(null),ce=a.useRef(!1),Te=a.useRef(null),Re=a.useRef(0),ae=a.useRef(!1),Be=a.useRef(!Y),Le=a.useRef(0),f=a.useRef(null),ke=a.useRef(((l=f.current)==null?void 0:l.getBoundingClientRect().height)||0),Ue=a.useRef(((F=f.current)==null?void 0:F.getBoundingClientRect().width)||0),Ee=a.useRef(0),xt=a.useCallback(s=>{o&&s===de.length-1&&(he.current=new Date)},[]),{activeSnapPoint:bt,activeSnapPointIndex:oe,setActiveSnapPoint:ze,onRelease:Dt,snapPointsOffset:de,onDrag:St,shouldFade:Fe,getPercentageDragged:Tt}=pn({snapPoints:o,activeSnapPointProp:U,setActiveSnapPointProp:L,drawerRef:f,fadeFromIndex:w,overlayRef:re,onSnapPointChange:xt,direction:m,container:j,snapToSequentialPoint:c});nn({isDisabled:!I||Z||!z||yt||!P||!x||!ee});const{restorePositionSetting:Rt}=gn({isOpen:I,modal:z,nested:M??!1,hasBeenOpened:P,preventScrollRestoration:b,noBodyStyles:$});function we(){return(window.innerWidth-Me)/window.innerWidth}function Et(s){var D,T;!v&&!o||f.current&&!f.current.contains(s.target)||(ke.current=((D=f.current)==null?void 0:D.getBoundingClientRect().height)||0,Ue.current=((T=f.current)==null?void 0:T.getBoundingClientRect().width)||0,le(!0),De.current=new Date,nt()&&window.addEventListener("touchend",()=>ce.current=!1,{once:!0}),s.target.setPointerCapture(s.pointerId),Re.current=A(m)?s.pageY:s.pageX)}function We(s,D){var T;let y=s;const O=(T=window.getSelection())==null?void 0:T.toString(),k=f.current?xe(f.current,m):null,H=new Date;if(y.tagName==="SELECT"||y.hasAttribute("data-vaul-no-drag")||y.closest("[data-vaul-no-drag]"))return!1;if(m==="right"||m==="left")return!0;if(he.current&&H.getTime()-he.current.getTime()<500)return!1;if(k!==null&&(m==="bottom"?k>0:k<0))return!0;if(O&&O.length>0)return!1;if(ue.current&&H.getTime()-ue.current.getTime()<R&&k===0||D)return ue.current=H,!1;for(;y;){if(y.scrollHeight>y.clientHeight){if(y.scrollTop!==0)return ue.current=new Date,!1;if(y.getAttribute("role")==="dialog")return!0}y=y.parentNode}return!0}function Ct(s){if(f.current&&Z){const D=m==="bottom"||m==="right"?1:-1,T=(Re.current-(A(m)?s.pageY:s.pageX))*D,y=T>0,O=o&&!v&&!y;if(O&&oe===0)return;const k=Math.abs(T),H=document.querySelector("[data-vaul-drawer-wrapper]"),G=m==="bottom"||m==="top"?ke.current:Ue.current;let q=k/G;const te=Tt(k,y);if(te!==null&&(q=te),O&&q>=1||!ce.current&&!We(s.target,y))return;if(f.current.classList.add(Ae),ce.current=!0,N(f.current,{transition:"none"}),N(re.current,{transition:"none"}),o&&St({draggedDistance:T}),y&&!o){const X=un(T),ge=Math.min(X*-1,0)*D;N(f.current,{transform:A(m)?`translate3d(0, ${ge}px, 0)`:`translate3d(${ge}px, 0, 0)`});return}const K=1-q;if((Fe||w&&oe===w-1)&&(r==null||r(s,q),N(re.current,{opacity:`${K}`,transition:"none"},!0)),H&&re.current&&u){const X=Math.min(we()+q*(1-we()),1),ge=8-q*8,qe=Math.max(0,14-q*14);N(H,{borderRadius:`${ge}px`,transform:A(m)?`scale(${X}) translate3d(0, ${qe}px, 0)`:`scale(${X}) translate3d(${qe}px, 0, 0)`,transition:"none"},!0)}if(!o){const X=k*D;N(f.current,{transform:A(m)?`translate3d(0, ${X}px, 0)`:`translate3d(${X}px, 0, 0)`})}}}a.useEffect(()=>{window.requestAnimationFrame(()=>{Be.current=!0})},[]),a.useEffect(()=>{var s;function D(){if(!f.current||!x)return;const T=document.activeElement;if($e(T)||ae.current){var y;const O=((y=window.visualViewport)==null?void 0:y.height)||0,k=window.innerHeight;let H=k-O;const G=f.current.getBoundingClientRect().height||0,q=G>k*.8;Ee.current||(Ee.current=G);const te=f.current.getBoundingClientRect().top;if(Math.abs(Le.current-H)>60&&(ae.current=!ae.current),o&&o.length>0&&de&&oe){const K=de[oe]||0;H+=K}if(Le.current=H,G>O||ae.current){const K=f.current.getBoundingClientRect().height;let X=K;K>O&&(X=O-(q?te:Me)),E?f.current.style.height=`${K-Math.max(H,0)}px`:f.current.style.height=`${Math.max(X,O-te)}px`}else Jt()||(f.current.style.height=`${Ee.current}px`);o&&o.length>0&&!ae.current?f.current.style.bottom="0px":f.current.style.bottom=`${Math.max(H,0)}px`}}return(s=window.visualViewport)==null||s.addEventListener("resize",D),()=>{var T;return(T=window.visualViewport)==null?void 0:T.removeEventListener("resize",D)}},[oe,o,de]);function fe(s){Ot(),g==null||g(),s||V(!1),setTimeout(()=>{o&&ze(o[0])},C.DURATION*1e3)}function Ve(){if(!f.current)return;const s=document.querySelector("[data-vaul-drawer-wrapper]"),D=xe(f.current,m);N(f.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`}),N(re.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"1"}),u&&D&&D>0&&I&&N(s,{borderRadius:`${st}px`,overflow:"hidden",...A(m)?{transform:`scale(${we()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${we()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${C.DURATION}s`,transitionTimingFunction:`cubic-bezier(${C.EASE.join(",")})`},!0)}function Ot(){!Z||!f.current||(f.current.classList.remove(Ae),ce.current=!1,le(!1),Se.current=new Date)}function Nt(s){if(!Z||!f.current)return;f.current.classList.remove(Ae),ce.current=!1,le(!1),Se.current=new Date;const D=xe(f.current,m);if(!s||!We(s.target,!1)||!D||Number.isNaN(D)||De.current===null)return;const T=Se.current.getTime()-De.current.getTime(),y=Re.current-(A(m)?s.pageY:s.pageX),O=Math.abs(y)/T;if(O>.05&&(He(!0),setTimeout(()=>{He(!1)},200)),o){Dt({draggedDistance:y*(m==="bottom"||m==="right"?1:-1),closeDrawer:fe,velocity:O,dismissible:v}),i==null||i(s,!0);return}if(m==="bottom"||m==="right"?y>0:y<0){Ve(),i==null||i(s,!0);return}if(O>it){fe(),i==null||i(s,!1);return}var k;const H=Math.min((k=f.current.getBoundingClientRect().height)!=null?k:0,window.innerHeight);var G;const q=Math.min((G=f.current.getBoundingClientRect().width)!=null?G:0,window.innerWidth),te=m==="left"||m==="right";if(Math.abs(D)>=(te?q:H)*S){fe(),i==null||i(s,!1);return}i==null||i(s,!0),Ve()}a.useEffect(()=>(I&&(N(document.documentElement,{scrollBehavior:"auto"}),he.current=new Date),()=>{ln(document.documentElement,"scrollBehavior")}),[I]);function At(s){const D=s?(window.innerWidth-ne)/window.innerWidth:1,T=s?-ne:0;Te.current&&window.clearTimeout(Te.current),N(f.current,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:`scale(${D}) translate3d(0, ${T}px, 0)`}),!s&&f.current&&(Te.current=setTimeout(()=>{const y=xe(f.current,m);N(f.current,{transition:"none",transform:A(m)?`translate3d(0, ${y}px, 0)`:`translate3d(${y}px, 0, 0)`})},500))}function $t(s,D){if(D<0)return;const T=(window.innerWidth-ne)/window.innerWidth,y=T+D*(1-T),O=-ne+D*ne;N(f.current,{transform:A(m)?`scale(${y}) translate3d(0, ${O}px, 0)`:`scale(${y}) translate3d(${O}px, 0, 0)`,transition:"none"})}function Mt(s,D){const T=A(m)?window.innerHeight:window.innerWidth,y=D?(T-ne)/T:1,O=D?-ne:0;D&&N(f.current,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:A(m)?`scale(${y}) translate3d(0, ${O}px, 0)`:`scale(${y}) translate3d(${O}px, 0, 0)`})}return a.useEffect(()=>{z||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[z]),a.createElement(Ut,{defaultOpen:Y,onOpenChange:s=>{!v&&!s||(s?J(!0):fe(!0),V(s))},open:I},a.createElement(tt.Provider,{value:{activeSnapPoint:bt,snapPoints:o,setActiveSnapPoint:ze,drawerRef:f,overlayRef:re,onOpenChange:n,onPress:Et,onRelease:Nt,onDrag:Ct,dismissible:v,shouldAnimate:Be,handleOnly:h,isOpen:I,isDragging:Z,shouldFade:Fe,closeDrawer:fe,onNestedDrag:$t,onNestedOpenChange:At,onNestedRelease:Mt,keyboardIsOpen:ae,modal:z,snapPointsOffset:de,activeSnapPointIndex:oe,direction:m,shouldScaleBackground:u,setBackgroundColorOnScale:p,noBodyStyles:$,container:j,autoFocus:W}},t))}const dt=a.forwardRef(function({...e},n){const{overlayRef:t,snapPoints:r,onRelease:i,shouldFade:o,isOpen:u,modal:p,shouldAnimate:S}=se(),R=at(n,t),v=r&&r.length>0;if(!p)return null;const h=a.useCallback(w=>i(w),[i]);return a.createElement(_t,{onMouseUp:h,ref:R,"data-vaul-overlay":"","data-vaul-snap-points":u&&v?"true":"false","data-vaul-snap-points-overlay":u&&o?"true":"false","data-vaul-animate":S!=null&&S.current?"true":"false",...e})});dt.displayName="Drawer.Overlay";const ft=a.forwardRef(function({onPointerDownOutside:e,style:n,onOpenAutoFocus:t,...r},i){const{drawerRef:o,onPress:u,onRelease:p,onDrag:S,keyboardIsOpen:R,snapPointsOffset:v,activeSnapPointIndex:h,modal:w,isOpen:U,direction:L,snapPoints:E,container:z,handleOnly:g,shouldAnimate:M,autoFocus:$}=se(),[m,Y]=a.useState(!1),ee=at(i,o),c=a.useRef(null),b=a.useRef(null),x=a.useRef(!1),_=E&&E.length>0;wn();const j=(l,F,I=0)=>{if(x.current)return!0;const V=Math.abs(l.y),P=Math.abs(l.x),J=P>V,Z=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(l.x*Z<0)&&P>=0&&P<=I)return J}else if(!(l.y*Z<0)&&V>=0&&V<=I)return!J;return x.current=!0,!0};a.useEffect(()=>{_&&window.requestAnimationFrame(()=>{Y(!0)})},[]);function W(l){c.current=null,x.current=!1,p(l)}return a.createElement(It,{"data-vaul-drawer-direction":L,"data-vaul-drawer":"","data-vaul-delayed-snap-points":m?"true":"false","data-vaul-snap-points":U&&_?"true":"false","data-vaul-custom-container":z?"true":"false","data-vaul-animate":M!=null&&M.current?"true":"false",...r,ref:ee,style:v&&v.length>0?{"--snap-point-height":`${v[h??0]}px`,...n}:n,onPointerDown:l=>{g||(r.onPointerDown==null||r.onPointerDown.call(r,l),c.current={x:l.pageX,y:l.pageY},u(l))},onOpenAutoFocus:l=>{t==null||t(l),$||l.preventDefault()},onPointerDownOutside:l=>{if(e==null||e(l),!w||l.defaultPrevented){l.preventDefault();return}R.current&&(R.current=!1)},onFocusOutside:l=>{if(!w){l.preventDefault();return}},onPointerMove:l=>{if(b.current=l,g||(r.onPointerMove==null||r.onPointerMove.call(r,l),!c.current))return;const F=l.pageY-c.current.y,I=l.pageX-c.current.x,V=l.pointerType==="touch"?10:2;j({x:I,y:F},L,V)?S(l):(Math.abs(I)>V||Math.abs(F)>V)&&(c.current=null)},onPointerUp:l=>{r.onPointerUp==null||r.onPointerUp.call(r,l),c.current=null,x.current=!1,p(l)},onPointerOut:l=>{r.onPointerOut==null||r.onPointerOut.call(r,l),W(b.current)},onContextMenu:l=>{r.onContextMenu==null||r.onContextMenu.call(r,l),b.current&&W(b.current)}})});ft.displayName="Drawer.Content";const vn=250,yn=120,mt=a.forwardRef(function({preventCycle:e=!1,children:n,...t},r){const{closeDrawer:i,isDragging:o,snapPoints:u,activeSnapPoint:p,setActiveSnapPoint:S,dismissible:R,handleOnly:v,isOpen:h,onPress:w,onDrag:U}=se(),L=a.useRef(null),E=a.useRef(!1);function z(){if(E.current){$();return}window.setTimeout(()=>{g()},yn)}function g(){if(o||e||E.current){$();return}if($(),!u||u.length===0){R||i();return}if(p===u[u.length-1]&&R){i();return}const Y=u.findIndex(c=>c===p);if(Y===-1)return;const ee=u[Y+1];S(ee)}function M(){L.current=window.setTimeout(()=>{E.current=!0},vn)}function $(){L.current&&window.clearTimeout(L.current),E.current=!1}return a.createElement("div",{onClick:z,onPointerCancel:$,onPointerDown:m=>{v&&w(m),M()},onPointerMove:m=>{v&&U(m)},ref:r,"data-vaul-drawer-visible":h?"true":"false","data-vaul-handle":"","aria-hidden":"true",...t},a.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});mt.displayName="Drawer.Handle";function xn({onDrag:e,onOpenChange:n,...t}){const{onNestedDrag:r,onNestedOpenChange:i,onNestedRelease:o}=se();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return a.createElement(ct,{nested:!0,onClose:()=>{i(!1)},onDrag:(u,p)=>{r(u,p),e==null||e(u,p)},onOpenChange:u=>{u&&i(u)},onRelease:o,...t})}function bn(e){const n=se(),{container:t=n.container,...r}=e;return a.createElement(zt,{container:t,...r})}const Q={Root:ct,NestedRoot:xn,Content:ft,Overlay:dt,Trigger:Ht,Portal:bn,Handle:mt,Close:Bt,Title:Lt,Description:kt},pt=B.createContext(void 0),Dn=()=>{const e=B.useContext(pt);if(!e)throw new Error("useDrawerContext must be used within a DrawerProvider");return e},Sn=pt.Provider,ht=({shouldScaleBackground:e=!0,direction:n="left",...t})=>{const r=Yt("(min-width: 768px)");return qt(!r),d.jsx(Sn,{value:{direction:r?n:"top"},children:d.jsx(Q.Root,{shouldScaleBackground:e,direction:r?n:"top",modal:!r,...t})})},Tn=Q.Trigger,Rn=Q.Portal,Pe=B.forwardRef(({className:e,...n},t)=>d.jsx(Q.Close,{ref:t,className:ie("top-6.5 absolute right-3 cursor-pointer",e),...n}));Pe.displayName="DrawerClose";const _e=B.forwardRef(({className:e,...n},t)=>d.jsx(Q.Overlay,{ref:t,className:ie("fixed inset-0 z-50 bg-black/80",e),...n}));_e.displayName="DrawerOverlay";const Ie=B.forwardRef(({className:e,children:n,container:t,asChild:r=!1,...i},o)=>{const{direction:u}=Dn();return d.jsxs(Rn,{...t&&{container:t},children:[d.jsx(_e,{asChild:r}),d.jsx(Q.Content,{ref:o,className:ie("fixed z-50 flex flex-col border border-border bg-background",u==="left"&&"bottom-0 left-0 top-0 w-full md:w-auto md:min-w-[320px] md:rounded-tl-[10px]",u==="right"&&"bottom-0 right-0 top-0 w-full md:w-auto md:min-w-[320px] md:rounded-tr-[10px]",u==="top"&&"left-0 right-0 top-0 h-full md:h-auto md:rounded-t-[10px]",u==="bottom"&&"bottom-0 left-0 right-0 h-full md:h-auto md:rounded-b-[10px]",e),...i,children:n})]})});Ie.displayName="DrawerContent";const wt=({className:e,...n})=>d.jsx("div",{className:ie("pr-6.5 grid gap-1.5 p-6 text-center sm:text-left",e),...n}),gt=B.forwardRef(({className:e,...n},t)=>d.jsx(Q.Title,{ref:t,className:ie("text-lg font-semibold leading-none tracking-tight",e),...n}));gt.displayName="DrawerTitle";const vt=B.forwardRef(({className:e,...n},t)=>d.jsx(Q.Description,{ref:t,className:ie("text-sm text-muted-text",e),...n}));vt.displayName="DrawerDescription";ht.__docgenInfo={description:"",methods:[],displayName:"Drawer",props:{direction:{required:!1,tsType:{name:"union",raw:"'left' | 'right' | 'top' | 'bottom'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"}]},description:"",defaultValue:{value:"'left'",computed:!1}},handleOnly:{required:!1,tsType:{name:"boolean"},description:""},shouldScaleBackground:{defaultValue:{value:"true",computed:!1},required:!1}}};Pe.__docgenInfo={description:"",methods:[],displayName:"DrawerClose"};_e.__docgenInfo={description:"",methods:[],displayName:"DrawerOverlay"};Ie.__docgenInfo={description:"",methods:[],displayName:"DrawerContent",props:{container:{required:!1,tsType:{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}]},description:""},asChild:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};wt.__docgenInfo={description:"",methods:[],displayName:"DrawerHeader"};gt.__docgenInfo={description:"",methods:[],displayName:"DrawerTitle"};vt.__docgenInfo={description:"",methods:[],displayName:"DrawerDescription"};const En=[{text:"Text",value:"9900.00"},{text:"Text 1",value:"99.00"},{text:"Text 2",value:"990.00"},{text:"Text 3",value:"25.00"}],Cn=[{text:"Additional Text",value:"100500"},{text:"Additional Text 1",value:"234 M"},{text:"Additional Text 2",value:"4 M"}];function On(){const[e,n]=B.useState(!1);return d.jsxs(ht,{open:e,onOpenChange:n,direction:"left",modal:!1,children:[d.jsx(Tn,{children:d.jsx("div",{children:"Open"})}),d.jsx(Ie,{className:"max-md:max-w-[320px]",children:d.jsxs(wt,{className:"flex h-full flex-col",children:[d.jsx(Pe,{children:d.jsx(Vt,{className:"h-4 w-4"})}),d.jsxs("div",{className:"flex flex-col justify-center",children:[d.jsx(ve,{tag:"h2",size:"body2",className:"mb-7 flex items-center justify-center",children:"Drawer Content"}),d.jsx(ve,{tag:"h3",size:"body2",className:"mb-4 text-center",children:"Text"})]}),d.jsxs("div",{className:"mb-3 flex flex-col justify-center [&>button]:mb-2",children:[d.jsx(Ye,{variant:"primary",children:"Example Text"}),d.jsx(Ye,{variant:"tertiary",children:"Example More"})]}),d.jsxs("div",{className:"h-full overflow-y-scroll pr-2",children:[d.jsxs("div",{className:"mb-1",children:[d.jsxs("div",{className:"mb-3 flex align-baseline",children:[d.jsx(ve,{tag:"h3",size:"heading4",className:"mr-2 text-center",children:"Text"}),d.jsx(jt,{variant:"secondary",children:"Badge"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"mb-4 text-sm",children:"$10,000.00"}),d.jsx("ul",{className:"text-sm text-muted-text",children:En.map(t=>d.jsxs("li",{className:"mb-2 flex justify-between",children:[t.text,d.jsx("span",{className:"flex items-center text-foreground",children:t.value})]},t.text))})]})]}),d.jsx(Pt,{}),d.jsxs("div",{className:"pt-1",children:[d.jsx("div",{className:"mb-3 flex align-baseline",children:d.jsx(ve,{tag:"h3",size:"body2",className:"mr-2 text-center",children:"Info"})}),d.jsx("div",{children:d.jsx("ul",{className:"text-sm text-muted-text",children:Cn.map(t=>d.jsxs("li",{className:"mb-2 flex justify-between",children:[t.text,d.jsx("span",{className:"flex items-center text-foreground",children:t.value})]},t.text))})})]})]})]})})]})}const er={id:"Molecules/Drawer",title:"Verified/Molecules/Drawer",component:On,tags:["autodocs"],parameters:{badges:[Wt.CUSTOM]}},be={parameters:{embedDesigns:["https://www.figma.com/embed?embed_host=share&url=https://www.figma.com/file/AczaSV5JD1751SAWcZshOp/Flamingo-Design-System-(Community)?node-id=53-412"],designs:["https://www.figma.com/file/AczaSV5JD1751SAWcZshOp/Flamingo-Design-System-(Community)?node-id=53-412"],author:Ft["vadym.melnicenko"]}};var Ke,Qe,et;be.parameters={...be.parameters,docs:{...(Ke=be.parameters)==null?void 0:Ke.docs,source:{originalSource:`{
  parameters: {
    embedDesigns: ['https://www.figma.com/embed?embed_host=share&url=https://www.figma.com/file/AczaSV5JD1751SAWcZshOp/Flamingo-Design-System-(Community)?node-id=53-412'],
    designs: ['https://www.figma.com/file/AczaSV5JD1751SAWcZshOp/Flamingo-Design-System-(Community)?node-id=53-412'],
    author: AUTHORS['vadym.melnicenko']
  }
}`,...(et=(Qe=be.parameters)==null?void 0:Qe.docs)==null?void 0:et.source}}};const tr=["Playground"];export{be as Playground,tr as __namedExportsOrder,er as default};
