import{j as g}from"./jsx-runtime-Cw0GR0a5.js";import{r as e}from"./index-CTjT7uj6.js";import{c as Q}from"./index-Bv1jJhtj.js";import{c as Re}from"./createLucideIcon-D1mZwjD8.js";import{A as We}from"./authors-Bh-Wpt1v.js";/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=Re("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);var Ge=Object.defineProperty,Be=Object.defineProperties,Fe=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,he=(t,r,o)=>r in t?Ge(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,Le=(t,r)=>{for(var o in r||(r={}))ye.call(r,o)&&he(t,o,r[o]);if(X)for(var o of X(r))Se.call(r,o)&&he(t,o,r[o]);return t},He=(t,r)=>Be(t,Fe(r)),ze=(t,r)=>{var o={};for(var s in t)ye.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&X)for(var s of X(t))r.indexOf(s)<0&&Se.call(t,s)&&(o[s]=t[s]);return o},Ve="^\\d+$";function $e(t){let r=setTimeout(t,0),o=setTimeout(t,10),s=setTimeout(t,50);return[r,o,s]}function Je(t){let r=e.useRef();return e.useEffect(()=>{r.current=t}),r.current}var qe=18,xe=40,Ue=`${xe}px`,Ze=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Ke({containerRef:t,inputRef:r,pushPasswordManagerStrategy:o,isFocused:s}){let d=e.useRef({done:!1,refocused:!1}),[i,D]=e.useState(!1),[b,$]=e.useState(!1),[_,J]=e.useState(!1),Y=e.useMemo(()=>o==="none"?!1:(o==="increase-width"||o==="experimental-no-flickering")&&i&&b,[i,b,o]),T=e.useCallback(()=>{let h=t.current,m=r.current;if(!h||!m||_||o==="none")return;let l=h,S=l.getBoundingClientRect().left+l.offsetWidth,R=l.getBoundingClientRect().top+l.offsetHeight/2,q=S-qe,U=R;if(!(document.querySelectorAll(Ze).length===0&&document.elementFromPoint(q,U)===h)&&(D(!0),J(!0),!d.current.refocused&&document.activeElement===m)){let B=[m.selectionStart,m.selectionEnd];m.blur(),m.focus(),m.setSelectionRange(B[0],B[1]),d.current.refocused=!0}},[t,r,_,o]);return e.useEffect(()=>{let h=t.current;if(!h||o==="none")return;function m(){let S=window.innerWidth-h.getBoundingClientRect().right;$(S>=xe)}m();let l=setInterval(m,1e3);return()=>{clearInterval(l)}},[t,o]),e.useEffect(()=>{let h=s||document.activeElement===r.current;if(o==="none"||!h)return;let m=setTimeout(T,0),l=setTimeout(T,2e3),S=setTimeout(T,5e3),R=setTimeout(()=>{J(!0)},6e3);return()=>{clearTimeout(m),clearTimeout(l),clearTimeout(S),clearTimeout(R)}},[r,s,o,T]),{hasPWMBadge:i,willPushPWMBadge:Y,PWM_BADGE_SPACE_WIDTH:Ue}}var Pe=e.createContext({}),Oe=e.forwardRef((t,r)=>{var o=t,{value:s,onChange:d,maxLength:i,textAlign:D="left",pattern:b=Ve,inputMode:$="numeric",onComplete:_,pushPasswordManagerStrategy:J="increase-width",containerClassName:Y,noScriptCSSFallback:T=Qe,render:h,children:m}=o,l=ze(o,["value","onChange","maxLength","textAlign","pattern","inputMode","onComplete","pushPasswordManagerStrategy","containerClassName","noScriptCSSFallback","render","children"]),S,R,q,U,B;let[Te,Ce]=e.useState(typeof l.defaultValue=="string"?l.defaultValue:""),p=s??Te,C=Je(p),F=e.useCallback(n=>{d==null||d(n),Ce(n)},[d]),y=e.useMemo(()=>b?typeof b=="string"?new RegExp(b):b:null,[b]),c=e.useRef(null),ee=e.useRef(null),te=e.useRef({value:p,onChange:F,isIOS:typeof window<"u"&&((R=(S=window==null?void 0:window.CSS)==null?void 0:S.supports)==null?void 0:R.call(S,"-webkit-touch-callout","none"))}),Z=e.useRef({prev:[(q=c.current)==null?void 0:q.selectionStart,(U=c.current)==null?void 0:U.selectionEnd,(B=c.current)==null?void 0:B.selectionDirection]});e.useImperativeHandle(r,()=>c.current,[]),e.useEffect(()=>{let n=c.current,a=ee.current;if(!n||!a)return;te.current.value!==n.value&&te.current.onChange(n.value),Z.current.prev=[n.selectionStart,n.selectionEnd,n.selectionDirection];function f(){if(document.activeElement!==n){H(null),z(null);return}let u=n.selectionStart,w=n.selectionEnd,P=n.selectionDirection,I=n.maxLength,A=n.value,G=Z.current.prev,O=-1,E=-1,k;if(A.length!==0&&u!==null&&w!==null){let je=u===w,De=u===A.length&&A.length<I;if(je&&!De){let j=u;if(j===0)O=0,E=1,k="forward";else if(j===I)O=j-1,E=j,k="backward";else if(I>1&&A.length>1){let oe=0;if(G[0]!==null&&G[1]!==null){k=j<G[1]?"backward":"forward";let _e=G[0]===G[1]&&G[0]<I;k==="backward"&&!_e&&(oe=-1)}O=oe+j,E=oe+j+1}}O!==-1&&E!==-1&&O!==E&&c.current.setSelectionRange(O,E,k)}let fe=O!==-1?O:u,ge=E!==-1?E:w,ke=k??P;H(fe),z(ge),Z.current.prev=[fe,ge,ke]}if(document.addEventListener("selectionchange",f,{capture:!0}),f(),document.activeElement===n&&ne(!0),!document.getElementById("input-otp-style")){let u=document.createElement("style");if(u.id="input-otp-style",document.head.appendChild(u),u.sheet){let w="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";V(u.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),V(u.sheet,`[data-input-otp]:autofill { ${w} }`),V(u.sheet,`[data-input-otp]:-webkit-autofill { ${w} }`),V(u.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),V(u.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let v=()=>{a&&a.style.setProperty("--root-height",`${n.clientHeight}px`)};v();let x=new ResizeObserver(v);return x.observe(n),()=>{document.removeEventListener("selectionchange",f,{capture:!0}),x.disconnect()}},[]);let[se,ue]=e.useState(!1),[L,ne]=e.useState(!1),[M,H]=e.useState(null),[W,z]=e.useState(null);e.useEffect(()=>{$e(()=>{var n,a,f,v;(n=c.current)==null||n.dispatchEvent(new Event("input"));let x=(a=c.current)==null?void 0:a.selectionStart,u=(f=c.current)==null?void 0:f.selectionEnd,w=(v=c.current)==null?void 0:v.selectionDirection;x!==null&&u!==null&&(H(x),z(u),Z.current.prev=[x,u,w])})},[p,L]),e.useEffect(()=>{C!==void 0&&p!==C&&C.length<i&&p.length===i&&(_==null||_(p))},[i,_,C,p]);let N=Ke({containerRef:ee,inputRef:c,pushPasswordManagerStrategy:J,isFocused:L}),ce=e.useCallback(n=>{let a=n.currentTarget.value.slice(0,i);if(a.length>0&&y&&!y.test(a)){n.preventDefault();return}typeof C=="string"&&a.length<C.length&&document.dispatchEvent(new Event("selectionchange")),F(a)},[i,F,C,y]),pe=e.useCallback(()=>{var n;if(c.current){let a=Math.min(c.current.value.length,i-1),f=c.current.value.length;(n=c.current)==null||n.setSelectionRange(a,f),H(a),z(f)}ne(!0)},[i]),de=e.useCallback(n=>{var a,f;let v=c.current;if(!te.current.isIOS||!n.clipboardData||!v)return;let x=n.clipboardData.getData("text/plain");n.preventDefault();let u=(a=c.current)==null?void 0:a.selectionStart,w=(f=c.current)==null?void 0:f.selectionEnd,P=(u!==w?p.slice(0,u)+x+p.slice(w):p.slice(0,u)+x+p.slice(u)).slice(0,i);if(P.length>0&&y&&!y.test(P))return;v.value=P,F(P);let I=Math.min(P.length,i-1),A=P.length;v.setSelectionRange(I,A),H(I),z(A)},[i,F,y,p]),Me=e.useMemo(()=>({position:"relative",cursor:l.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[l.disabled]),me=e.useMemo(()=>({position:"absolute",inset:0,width:N.willPushPWMBadge?`calc(100% + ${N.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:N.willPushPWMBadge?`inset(0 ${N.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:D,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[N.PWM_BADGE_SPACE_WIDTH,N.willPushPWMBadge,D]),Ie=e.useMemo(()=>e.createElement("input",He(Le({autoComplete:l.autoComplete||"one-time-code"},l),{"data-input-otp":!0,"data-input-otp-mss":M,"data-input-otp-mse":W,inputMode:$,pattern:y==null?void 0:y.source,style:me,maxLength:i,value:p,ref:c,onPaste:n=>{var a;de(n),(a=l.onPaste)==null||a.call(l,n)},onChange:ce,onMouseOver:n=>{var a;ue(!0),(a=l.onMouseOver)==null||a.call(l,n)},onMouseLeave:n=>{var a;ue(!1),(a=l.onMouseLeave)==null||a.call(l,n)},onFocus:n=>{var a;pe(),(a=l.onFocus)==null||a.call(l,n)},onBlur:n=>{var a;ne(!1),(a=l.onBlur)==null||a.call(l,n)}})),[ce,pe,de,$,me,i,W,M,l,y==null?void 0:y.source,p]),re=e.useMemo(()=>({slots:Array.from({length:i}).map((n,a)=>{let f=L&&M!==null&&W!==null&&(M===W&&a===M||a>=M&&a<W),v=p[a]!==void 0?p[a]:null;return{char:v,isActive:f,hasFakeCaret:f&&v===null}}),isFocused:L,isHovering:!l.disabled&&se}),[L,se,i,W,M,l.disabled,p]),Ae=e.useMemo(()=>h?h(re):e.createElement(Pe.Provider,{value:re},m),[m,re,h]);return e.createElement(e.Fragment,null,T!==null&&e.createElement("noscript",null,e.createElement("style",null,T)),e.createElement("div",{ref:ee,"data-input-otp-container":!0,style:Me,className:Y},Ae,e.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ie)))});Oe.displayName="Input";function V(t,r){try{t.insertRule(r)}catch{console.error("input-otp could not insert CSS rule:",r)}}var Qe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const ie=e.forwardRef(({className:t,containerClassName:r,...o},s)=>g.jsx(Oe,{ref:s,containerClassName:Q("flex items-center has-[:disabled]:opacity-50",r),className:Q("disabled:cursor-not-allowed",t),...o})),ae=e.forwardRef(({className:t,...r},o)=>g.jsx("div",{ref:o,className:Q("flex items-center",t),...r})),le=e.forwardRef(({index:t,className:r,...o},s)=>{const d=e.useContext(Pe),{char:i,hasFakeCaret:D,isActive:b}=d.slots[t];return g.jsxs("div",{ref:s,className:Q("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",b&&"z-10 ring-1 ring-ring",r),...o,children:[i,D&&g.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:g.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})}),Ee=e.forwardRef(({...t},r)=>g.jsx("div",{ref:r,role:"separator",...t,children:g.jsx(Ne,{size:32})}));ie.__docgenInfo={description:"",methods:[],displayName:"InputOTP"};ae.__docgenInfo={description:"",methods:[],displayName:"InputOTPGroup"};le.__docgenInfo={description:"",methods:[],displayName:"InputOTPSlot",props:{index:{required:!0,tsType:{name:"number"},description:""}}};Ee.__docgenInfo={description:"",methods:[],displayName:"InputOTPSeparator"};const rt={id:"Molecules/Input OTP",title:"Verified/Molecules/Input OTP",component:ie,tags:["autodocs"],argTypes:{children:{control:!1}}},K={parameters:{author:We["vadym.melnicenko"],embedDesigns:["https://www.figma.com/embed?embed_host=share&url=https://www.figma.com/file/AczaSV5JD1751SAWcZshOp/Flamingo-Design-System-(Community)?node-id=53-412"],designs:["https://www.figma.com/file/AczaSV5JD1751SAWcZshOp/Flamingo-Design-System-(Community)?node-id=53-412"]},args:{maxLength:6,className:"w-full max-w-xs"},render:({maxLength:t,className:r})=>{const o=Array.from(Array(Math.ceil(t/2))).map((d,i)=>i),s=Array.from(Array(Math.ceil(t-o.length))).map((d,i)=>i+o.length);return g.jsxs(ie,{maxLength:t,className:r,children:[g.jsx(ae,{children:o.map(d=>g.jsx(le,{index:d},d))}),g.jsx(Ee,{}),g.jsx(ae,{children:s.map(d=>g.jsx(le,{index:d},d))})]})}};var ve,we,be;K.parameters={...K.parameters,docs:{...(ve=K.parameters)==null?void 0:ve.docs,source:{originalSource:`{
  parameters: {
    author: AUTHORS['vadym.melnicenko'],
    embedDesigns: ['https://www.figma.com/embed?embed_host=share&url=https://www.figma.com/file/AczaSV5JD1751SAWcZshOp/Flamingo-Design-System-(Community)?node-id=53-412'],
    designs: ['https://www.figma.com/file/AczaSV5JD1751SAWcZshOp/Flamingo-Design-System-(Community)?node-id=53-412']
  },
  args: {
    maxLength: 6,
    className: 'w-full max-w-xs'
  } as never,
  render: ({
    maxLength,
    className
  }) => {
    //i.e. [0, 1, 2]
    const firstGroupOtp = Array.from(Array(Math.ceil(maxLength / 2))).map((_v, i) => i);

    //i.e. [3, 4, 5]
    const secondGroupOtp = Array.from(Array(Math.ceil(maxLength - firstGroupOtp.length))).map((_v, i) => i + firstGroupOtp.length);
    return <InputOTP maxLength={maxLength} className={className}>
        <InputOTPGroup>
          {firstGroupOtp.map(i => <InputOTPSlot key={i} index={i} />)}
        </InputOTPGroup>
        <InputOTPSeparator />
        <InputOTPGroup>
          {secondGroupOtp.map(i => <InputOTPSlot key={i} index={i} />)}
        </InputOTPGroup>
      </InputOTP>;
  }
}`,...(be=(we=K.parameters)==null?void 0:we.docs)==null?void 0:be.source}}};const ot=["Playground"];export{K as Playground,ot as __namedExportsOrder,rt as default};
