import{j as s}from"./jsx-runtime-Cw0GR0a5.js";import{r as d}from"./index-CTjT7uj6.js";import{c as S,a as j,u as p}from"./index-okHkxgFN.js";import{P as f}from"./index-9_93ZtqA.js";import{c}from"./index-Bv1jJhtj.js";import{c as g}from"./index-Bb4qSo10.js";var m="Avatar",[C,D]=S(m),[L,x]=C(m),A=d.forwardRef((e,a)=>{const{__scopeAvatar:i,...t}=e,[n,r]=d.useState("idle");return s.jsx(L,{scope:i,imageLoadingStatus:n,onImageLoadingStatusChange:r,children:s.jsx(f.span,{...t,ref:a})})});A.displayName=m;var h="AvatarImage",w=d.forwardRef((e,a)=>{const{__scopeAvatar:i,src:t,onLoadingStatusChange:n=()=>{},...r}=e,l=x(h,i),o=N(t,r.referrerPolicy),u=j(v=>{n(v),l.onImageLoadingStatusChange(v)});return p(()=>{o!=="idle"&&u(o)},[o,u]),o==="loaded"?s.jsx(f.img,{...r,ref:a,src:t}):null});w.displayName=h;var y="AvatarFallback",b=d.forwardRef((e,a)=>{const{__scopeAvatar:i,delayMs:t,...n}=e,r=x(y,i),[l,o]=d.useState(t===void 0);return d.useEffect(()=>{if(t!==void 0){const u=window.setTimeout(()=>o(!0),t);return()=>window.clearTimeout(u)}},[t]),l&&r.imageLoadingStatus!=="loaded"?s.jsx(f.span,{...n,ref:a}):null});b.displayName=y;function N(e,a){const[i,t]=d.useState("idle");return p(()=>{if(!e){t("error");return}let n=!0;const r=new window.Image,l=o=>()=>{n&&t(o)};return t("loading"),r.onload=l("loaded"),r.onerror=l("error"),r.src=e,a&&(r.referrerPolicy=a),()=>{n=!1}},[e,a]),i}var I=A,T=w,k=b;const _=g("relative flex shrink-0 cursor-pointer items-center justify-center rounded-full border border-transparent transition hover:border-secondary-hover focus:border-secondary-focus",{variants:{variant:{default:"text-primary-foreground bg-white",dark:"bg-secondary-text text-invert"},size:{default:"h-9 w-9",md:"h-10 w-10",lg:"h-11 w-11",xs:"h-5 w-5",xxs:"h-4 w-4"}},defaultVariants:{variant:"default",size:"default"}}),q=g("absolute bottom-0 right-0 rounded-full border border-white",{variants:{size:{default:"h-2.5 w-2.5",md:"h-3 w-3",lg:"h-3.5 w-3.5",xs:"h-1.5 w-1.5",xxs:"h-1.5 w-1.5"}},defaultVariants:{size:"default"}}),R=({...e})=>s.jsx(I,{...e}),E=({className:e,...a})=>s.jsx(T,{className:c("aspect-square h-full w-full rounded-full",e),...a}),M=({className:e,...a})=>s.jsx(k,{className:c("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...a}),P=({status:e,size:a})=>s.jsx("div",{className:c(q({size:a}),{"bg-success-400":e==="online","bg-neutral-400":e==="offline"})}),F=({src:e,avatarFallback:a,className:i,variant:t,avatarComponent:n,status:r,size:l,alt:o,...u})=>s.jsxs(R,{className:c(_({variant:t,size:l}),i),...u,children:[e&&s.jsx(E,{src:e,alt:o||"Avatar image"}),a&&s.jsx(M,{children:a}),n,r&&s.jsx(P,{status:r,size:l})]});F.__docgenInfo={description:"",methods:[],displayName:"Avatar",props:{src:{required:!1,tsType:{name:"string"},description:""},alt:{required:!1,tsType:{name:"string"},description:""},avatarFallback:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},size:{required:!1,tsType:{name:"literal",value:"'default'"},description:""},variant:{required:!1,tsType:{name:"union",raw:"'default' | 'dark'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'dark'"}]},description:""},avatarComponent:{required:!1,tsType:{name:"ReactNode"},description:""},status:{required:!1,tsType:{name:"union",raw:"'online' | 'offline'",elements:[{name:"literal",value:"'online'"},{name:"literal",value:"'offline'"}]},description:""}}};export{F as A};
